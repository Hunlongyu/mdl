import{I as z,m as e,v as H,x as T,r,o as B,y as E,w as a,p as d,n as t,B as A,z as N,A as S,C as F}from"./index-DU6IfN-l.js";import{d as R,e as q,f as D,g as Q,h as G,i as J,j as O,k as P,l as X}from"./use-message-1m9-TyaD.js";const $=z("merge-cells",!1,function(u){return e("svg",{width:u.size,height:u.size,viewBox:"0 0 48 48",fill:"none"},[e("path",{d:"M20 14V5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V43C4 43.5523 4.44772 44 5 44H19C19.5523 44 20 43.5523 20 43V34",stroke:u.colors[0],"stroke-width":u.strokeWidth,"stroke-linecap":u.strokeLinecap},null),e("path",{d:"M28 34V43C28 43.5523 28.4477 44 29 44H43C43.5523 44 44 43.5523 44 43V5C44 4.44772 43.5523 4 43 4H29C28.4477 4 28 4.44772 28 5V14",stroke:u.colors[0],"stroke-width":u.strokeWidth,"stroke-linecap":u.strokeLinecap},null),e("path",{d:"M28 24H44",stroke:u.colors[0],"stroke-width":u.strokeWidth,"stroke-linecap":u.strokeLinecap},null),e("path",{d:"M5 24H20",stroke:u.colors[0],"stroke-width":u.strokeWidth,"stroke-linecap":u.strokeLinecap},null),e("path",{d:"M32.7485 28.8184L31.1575 27.2274L27.9756 24.0454L31.1575 20.8634L32.7485 19.2724",stroke:u.colors[0],"stroke-width":u.strokeWidth,"stroke-linecap":u.strokeLinecap,"stroke-linejoin":u.strokeLinejoin},null),e("path",{d:"M15.375 28.8184L16.966 27.2274L20.148 24.0454L16.966 20.8634L15.375 19.2724",stroke:u.colors[0],"stroke-width":u.strokeWidth,"stroke-linecap":u.strokeLinecap,"stroke-linejoin":u.strokeLinejoin},null)])}),ee={__name:"addTask",props:{modelValue:!1,modelModifiers:{}},emits:H(["addTaskConfirm","addTaskCancel"],["update:modelValue"]),setup(u,{emit:y}){const k=T(u,"modelValue",!1),h=y,x=r(null),n=r({url:"",name:"",video:"auto",audio:"auto",subtitles:"auto",dir:"",decrypt:{type:"AES-128",key:"",IV:""},proxy:{url:"",port:null,open:!1,header:""},end:{merge:!0,catch:!0,dir:!1,play:!1}}),g=r([{label:"自动选择画质",value:"auto"},{label:"全部选择画质",value:"all"},{label:"1920x1080 | 4800Kbps",value:"1920x1080 | 4800Kbps"},{label:"1280x720 | 2400Kbps",value:"1280x720 | 2400Kbps"},{label:"960x540 | 1200Kbps",value:"960x540 | 1200Kbps"},{label:"640x360 | 800Kbps",value:"640x360 | 800Kbps"}]),w=r([{label:"自动选择音质",value:"auto"},{label:"全部选择音质",value:"all"},{label:"4800Kbps",value:"4800Kbps"},{label:"2400Kbps",value:"2400Kbps"},{label:"1200Kbps",value:"1200Kbps"},{label:"800Kbps",value:"800Kbps"}]),C=r([{label:"自动选择字幕",value:"auto"},{label:"全部选择字幕",value:"all"},{label:"中文",value:"zh_cn"},{label:"英文",value:"en"},{label:"日文",value:"jp"}]),V=r([{label:"AES-128",value:"AES-128"}]);function U(){h("addTaskConfirm"),k.value=!1}async function v(){console.time("jsFetchVideoInfo");const f=await jsFetchVideoInfo("https://www.youtube.com/watch?v=t4vSzN2QDrE");console.timeEnd("jsFetchVideoInfo"),console.log("re",f)}return(f,l)=>{const p=R,s=q,c=A,i=D,m=Q,_=G,b=J,K=O,L=P,M=X,j=N,I=S,W=F;return B(),E(W,{show:k.value,"onUpdate:show":l[19]||(l[19]=o=>k.value=o),"transform-origin":"center",onNegativeClick:v},{default:a(()=>[e(I,{style:{"max-width":"680px"},title:"添加下载任务",bordered:"",closable:"",onClose:v},{action:a(()=>[e(j,{justify:"end"},{default:a(()=>[e(c,{onClick:U},{default:a(()=>[d("确认")]),_:1}),e(c,{type:"tertiary",onClick:v},{default:a(()=>[d("取消")]),_:1})]),_:1})]),default:a(()=>[e(M,{ref_key:"data",ref:x,model:t(n),"label-placement":"left","label-width":"80","require-mark-placement":"right-hanging"},{default:a(()=>[e(b,{cols:24,"x-gap":8},{default:a(()=>[e(s,{span:24,label:"任务链接",path:"url"},{default:a(()=>[e(p,{value:t(n).url,"onUpdate:value":l[0]||(l[0]=o=>t(n).url=o),placeholder:"url"},null,8,["value"])]),_:1}),e(s,{span:24,label:"文件名称",path:"url"},{default:a(()=>[e(i,null,{default:a(()=>[e(p,{value:t(n).name,"onUpdate:value":l[1]||(l[1]=o=>t(n).name=o),placeholder:"name"},null,8,["value"]),e(c,{onClick:l[2]||(l[2]=()=>{})},{default:a(()=>[d("规则")]),_:1})]),_:1})]),_:1}),e(s,{span:24},{default:a(()=>[e(L,{accordion:""},{default:a(()=>[e(K,{title:"高级设置",name:"1"},{default:a(()=>[e(b,{cols:24,"x-gap":8},{default:a(()=>[e(s,{span:24,label:"媒体文件",path:"dir"},{default:a(()=>[e(i,null,{default:a(()=>[e(m,{value:t(n).video,"onUpdate:value":l[3]||(l[3]=o=>t(n).video=o),options:t(g)},null,8,["value","options"]),e(m,{value:t(n).audio,"onUpdate:value":l[4]||(l[4]=o=>t(n).audio=o),options:t(w)},null,8,["value","options"]),e(m,{value:t(n).subtitles,"onUpdate:value":l[5]||(l[5]=o=>t(n).subtitles=o),options:t(C)},null,8,["value","options"])]),_:1})]),_:1}),e(s,{span:24,label:"下载目录",path:"dir"},{default:a(()=>[e(i,null,{default:a(()=>[e(p,{value:t(n).dir,"onUpdate:value":l[6]||(l[6]=o=>t(n).dir=o),placeholder:"dir"},null,8,["value"]),e(c,{onClick:l[7]||(l[7]=()=>{})},{default:a(()=>[d("选择")]),_:1})]),_:1})]),_:1}),e(s,{span:24,label:"解密",path:"decrypt.type"},{default:a(()=>[e(i,null,{default:a(()=>[e(m,{value:t(n).decrypt.type,"onUpdate:value":l[8]||(l[8]=o=>t(n).decrypt.type=o),options:t(V),style:{width:"20%"}},null,8,["value","options"]),e(p,{value:t(n).decrypt.key,"onUpdate:value":l[9]||(l[9]=o=>t(n).decrypt.key=o),placeholder:"Key",style:{width:"40%"}},null,8,["value"]),e(p,{value:t(n).name,"onUpdate:value":l[10]||(l[10]=o=>t(n).name=o),placeholder:"IV",style:{width:"40%"}},null,8,["value"])]),_:1})]),_:1}),e(s,{span:21,label:"代理",path:"proxy.url"},{default:a(()=>[e(i,null,{default:a(()=>[e(p,{value:t(n).proxy.url,"onUpdate:value":l[11]||(l[11]=o=>t(n).proxy.url=o),style:{width:"80%"},placeholder:"url"},null,8,["value"]),e(p,{value:t(n).proxy.port,"onUpdate:value":l[12]||(l[12]=o=>t(n).proxy.port=o),style:{width:"20%"},placeholder:"port"},null,8,["value"])]),_:1})]),_:1}),e(s,{span:3,label:"",path:"proxy.open"},{default:a(()=>[e(_,{checked:t(n).proxy.open,"onUpdate:checked":l[13]||(l[13]=o=>t(n).proxy.open=o)},{default:a(()=>[d("开启")]),_:1},8,["checked"])]),_:1}),e(s,{span:24,label:"附加头",path:"proxy.header"},{default:a(()=>[e(p,{value:t(n).proxy.header,"onUpdate:value":l[14]||(l[14]=o=>t(n).proxy.header=o),placeholder:"",type:"textarea",autosize:{minRows:3,maxRows:5}},null,8,["value"])]),_:1}),e(s,{span:24,label:"下载结束",path:"end"},{default:a(()=>[e(i,null,{default:a(()=>[e(_,{checked:t(n).end.merge,"onUpdate:checked":l[15]||(l[15]=o=>t(n).end.merge=o)},{default:a(()=>[d("自动合并")]),_:1},8,["checked"]),e(_,{checked:t(n).end.catch,"onUpdate:checked":l[16]||(l[16]=o=>t(n).end.catch=o)},{default:a(()=>[d("删除缓存")]),_:1},8,["checked"]),e(_,{checked:t(n).end.dir,"onUpdate:checked":l[17]||(l[17]=o=>t(n).end.dir=o)},{default:a(()=>[d("打开目录")]),_:1},8,["checked"]),e(_,{checked:t(n).end.play,"onUpdate:checked":l[18]||(l[18]=o=>t(n).end.play=o)},{default:a(()=>[d("自动播放")]),_:1},8,["checked"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1},8,["show"])}}};export{$ as M,ee as _};
